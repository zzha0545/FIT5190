# 特征重要性分析 - 使用指南

本项目提供了两个Python脚本，用于分析特征对体重预测准确性的影响：

1. `feature_significance_test.py`: 包含用于特征重要性分析的所有功能函数
2. `run_feature_significance_test.py`: 示例脚本，演示如何使用这些功能

## 运行方法

确保已安装所有必要的依赖：

```bash
pip install -r requirements.txt
```

然后，有两种方式运行分析：

### 1. 运行示例脚本（推荐）

```bash
python run_feature_significance_test.py
```

这将自动执行完整的分析流程，包括：
- 加载数据
- 分析身高和性别特征的重要性
- 比较包含和不包含各特征的模型性能
- 生成可视化结果
- 输出综合分析结论

### 2. 使用交互式菜单

```bash
python feature_significance_test.py
```

这将启动一个交互式菜单，允许您：
- 选择要分析的特征（身高或性别）
- 选择分析方法（卡方检验或模型比较）
- 可视化特征对预测准确性的影响

## 输出说明

分析结果将包括：

1. **列联表**：展示特征分箱与预测误差之间的关系
2. **卡方检验结果**：
   - 卡方值：越大表示关联越强
   - p值：小于0.05表示关联显著
3. **模型比较结果**：
   - 包含和不包含特征的模型MAE比较
   - 特征对预测准确性的影响百分比
4. **可视化**：
   - 分箱特征值与预测误差的关系图
   - 图表将保存为PNG文件

## 示例输出

以下是示例输出的片段：

```
身高特征重要性 (卡方检验):
- 卡方值: 5.12
- p值: 0.0276
- 显著性: 显著

性别特征重要性 (卡方检验):
- 卡方值: 3.75
- p值: 0.0429
- 显著性: 显著

基于模型性能比较的特征重要性:
去除身高特征导致MAE增加: 24.36%
去除性别特征导致MAE增加: 10.21%

结论: 身高特征对预测准确性的影响更大
```

## 理论背景

有关列联表和卡方检验在特征重要性分析中的理论背景，请参阅`feature_significance_documentation.md`文档。 